@if (modalState(); as m) {
<div class="error-modal" appScrollLock appBackdropClick (backdropClick)="handleDismiss()">
  <div
    class="error-modal__dialog"
    role="dialog"
    aria-modal="true"
    [attr.aria-label]="m.title"
    (click)="$event.stopPropagation()"
  >
    <button
      class="error-modal__close-button"
      type="button"
      (click)="handleDismiss()"
      aria-label="Close"
    >
      <lucide-angular name="X" class="error-modal__close-button-icon" />
    </button>

    <h2 class="error-modal__title">{{ m.title }}</h2>
    <p class="error-modal__message">{{ m.message }}</p>

    <div class="error-modal__actions">
      @if (m.actionLabel) {
      <button class="app-button app-button--primary" type="button" (click)="handleAction()">
        {{ m.actionLabel }}
      </button>
      }

      <button class="app-button app-button--secondary" type="button" (click)="handleDismiss()">
        {{ m.dismissLabel ?? 'Dismiss' }}
      </button>
    </div>
  </div>
</div>
}
